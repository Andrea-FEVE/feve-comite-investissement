<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Projects</title>
  <style>
    body { font-family: system-ui; background:#f7f8fa; padding:40px; }
    a { display:block; background:white; padding:12px; margin-bottom:8px;
        border-radius:6px; text-decoration:none; color:black; }
  </style>
</head>
<body>

<script>
  fetch("/api/auth")
    .then(r => r.json())
    .then(a => { if (!a.authenticated) location.href="/login.html"; });
</script>

<h1>Projects</h1>
<div id="projects"></div>

<script>
  fetch("/api/projects")
    .then(r => r.json())
    .then(data => {
      const div = document.getElementById("projects");
      data.forEach(p => {
        const a = document.createElement("a");
        a.href = `project.html?slug=${p.slug}`;
        a.textContent = p.name;
        div.appendChild(a);
      });
    });
</script>

</body>
</html>
